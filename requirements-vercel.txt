# Optimized requirements for Vercel deployment
# Lighter dependencies for serverless environment

# Core Flask - Essential
Flask==3.0.0
Flask-CORS==4.0.0
Werkzeug==3.0.3

# Authentication & Security - Essential
Flask-Bcrypt==1.0.1
Flask-JWT-Extended==4.6.0
email-validator==2.1.0

# Database - Essential
SQLAlchemy==2.0.23

# Audio Processing - Core only
librosa==0.10.1
soundfile==0.12.1
scipy==1.11.4
basic-pitch==0.4.0

# PDF Processing - Lighter version
PyMuPDF==1.23.8
Pillow==10.4.0

# Computer Vision - Essential only
opencv-python-headless==4.8.1.78
numpy==1.26.4
scikit-image==0.22.0

# OEMER - End-to-end OMR (PERFECT for Vercel!)
# Lightweight, serverless-friendly, no Java required
# Install with CPU version to avoid onnxruntime-gpu dependency
onnxruntime==1.17.3  # CPU-only version
# Note: Vercel doesn't support --no-deps pip flag in serverless
# If this causes issues, OEMER can be installed separately in build hook

# Music Analysis - Core
music21==9.1.0
pretty_midi==0.2.10

# LLM - Lighter model support
transformers==4.48.0
sentencepiece==0.1.99

# Note: Heavy dependencies removed or made optional:
# - torch (removed - use CPU version if needed)
# - accelerate (removed - optional for LLM)
# - noisereduce (removed - high memory usage)
# - mido (removed - optional)
# + oemer (added - excellent for serverless!)

# Utilities
python-dotenv==1.0.0
requests==2.31.0

# Production server (not used on Vercel but kept for compatibility)
gunicorn==22.0.0
